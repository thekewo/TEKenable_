{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { User } from '../shared/models/user';\nlet HomeComponent = class HomeComponent {\n  constructor(formBuilder, userService, ref) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.ref = ref;\n    this.title = 'app';\n    this.createForm();\n    this.isEmailDuplicate = false;\n    this.isSubmitted = false;\n  }\n  createForm() {\n    this.angForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      contactSource: ['', Validators.required],\n      contactReason: ['', Validators.required]\n    });\n  }\n  submitNewsletter(data) {\n    var user = new User();\n    user.email = data.value.email;\n    user.contactSource = data.value.contactSource;\n    user.contactReason = data.value.contactReason;\n    this.isEmailDuplicate = this.userService.isEmailInDatabase(user.email);\n    if (!this.isEmailDuplicate) {\n      this.userService.submitNewsletter(user);\n    }\n    this.isSubmitted = true;\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html'\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAiCC,UAAU,QAAQ,gBAAgB;AACnE,SAASC,IAAI,QAAQ,uBAAuB;AAOrC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAMxBC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,GAAsB;IAFtB,gBAAW,GAAXF,WAAW;IACX,gBAAW,GAAXC,WAAW;IACX,QAAG,GAAHC,GAAG;IARb,UAAK,GAAG,KAAK;IAUX,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,WAAW,GAAG,KAAK;EAC1B;EAEAF,UAAU;IACR,IAAI,CAACG,OAAO,GAAG,IAAI,CAACN,WAAW,CAACO,KAAK,CAAC;MACpCC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACa,QAAQ,EAAEb,UAAU,CAACY,KAAK,CAAC,CAAC;MACpDE,aAAa,EAAE,CAAC,EAAE,EAAEd,UAAU,CAACa,QAAQ,CAAC;MACxCE,aAAa,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACa,QAAQ;KACxC,CAAC;EACJ;EAEAG,gBAAgB,CAACC,IAAkF;IACjG,IAAIC,IAAI,GAAG,IAAIjB,IAAI,EAAE;IACrBiB,IAAI,CAACN,KAAK,GAAGK,IAAI,CAACE,KAAK,CAACP,KAAK;IAC7BM,IAAI,CAACJ,aAAa,GAAGG,IAAI,CAACE,KAAK,CAACL,aAAa;IAC7CI,IAAI,CAACH,aAAa,GAAGE,IAAI,CAACE,KAAK,CAACJ,aAAa;IAE7C,IAAI,CAACP,gBAAgB,GAAG,IAAI,CAACH,WAAW,CAACe,iBAAiB,CAACF,IAAI,CAACN,KAAK,CAAC;IACtE,IAAI,CAAC,IAAI,CAACJ,gBAAgB,EAAE;MAC1B,IAAI,CAACH,WAAW,CAACW,gBAAgB,CAACE,IAAI,CAAC;;IAEzC,IAAI,CAACT,WAAW,GAAG,IAAI;EACzB;CACD;AApCYP,aAAa,eAJzBH,SAAS,CAAC;EACTsB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE;CACd,CAAC,GACWpB,aAAa,CAoCzB;SApCYA,aAAa","names":["Component","Validators","User","HomeComponent","constructor","formBuilder","userService","ref","createForm","isEmailDuplicate","isSubmitted","angForm","group","email","required","contactSource","contactReason","submitNewsletter","data","user","value","isEmailInDatabase","selector","templateUrl"],"sourceRoot":"","sources":["C:\\Users\\Koós Zoltán\\source\\repos\\TEKenable_Newsletter\\ClientApp\\src\\app\\home\\home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { User } from '../shared/models/user';\r\nimport { UserService } from '../shared/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent {\r\n  title = 'app';\r\n  angForm!: FormGroup;\r\n  isEmailDuplicate!: boolean;\r\n  isSubmitted!: boolean;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private userService: UserService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.createForm();\r\n    this.isEmailDuplicate = false;\r\n    this.isSubmitted = false;\r\n  }\r\n\r\n  createForm() {\r\n    this.angForm = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      contactSource: ['', Validators.required],\r\n      contactReason: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  submitNewsletter(data: { value: { email: string; contactSource: string; contactReason: string; }; }) {\r\n    var user = new User();\r\n    user.email = data.value.email;\r\n    user.contactSource = data.value.contactSource;\r\n    user.contactReason = data.value.contactReason;\r\n\r\n    this.isEmailDuplicate = this.userService.isEmailInDatabase(user.email);\r\n    if (!this.isEmailDuplicate) {\r\n      this.userService.submitNewsletter(user)\r\n    }\r\n    this.isSubmitted = true;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}